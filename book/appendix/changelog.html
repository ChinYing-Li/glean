<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Changelog - Glean - Cross-platform Telemetry library</title>
        

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" rel="stylesheet" type="text/css">
        <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro:500" rel="stylesheet" type="text/css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        
        <link rel="stylesheet" href="../glean.css">
        
        <link rel="stylesheet" href="../mermaid.css">
        

        
        <!-- MathJax -->
        <script async type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
        
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "light" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="../index.html"><strong aria-hidden="true">1.</strong> Glean</a></li><li class="chapter-item expanded "><a href="../user/index.html"><strong aria-hidden="true">2.</strong> Using the Glean SDK</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../user/adding-glean-to-your-project.html"><strong aria-hidden="true">2.1.</strong> Adding Glean to your project</a></li><li class="chapter-item expanded "><a href="../user/general-api.html"><strong aria-hidden="true">2.2.</strong> The General API</a></li><li class="chapter-item expanded "><a href="../user/adding-new-metrics.html"><strong aria-hidden="true">2.3.</strong> Adding new metrics</a></li><li class="chapter-item expanded "><a href="../user/metric-parameters.html"><strong aria-hidden="true">2.4.</strong> Metric parameters</a></li><li class="chapter-item expanded "><a href="../user/testing-metrics.html"><strong aria-hidden="true">2.5.</strong> Testing metrics</a></li><li class="chapter-item expanded "><a href="../user/debugging/index.html"><strong aria-hidden="true">2.6.</strong> Debugging products using Glean</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../user/debugging/debug-ping-view.html"><strong aria-hidden="true">2.6.1.</strong> Glean Debug Ping View</a></li><li class="chapter-item expanded "><a href="../user/debugging/android.html"><strong aria-hidden="true">2.6.2.</strong> Android</a></li><li class="chapter-item expanded "><a href="../user/debugging/ios.html"><strong aria-hidden="true">2.6.3.</strong> iOS</a></li><li class="chapter-item expanded "><a href="../user/debugging/python.html"><strong aria-hidden="true">2.6.4.</strong> Python</a></li></ol></li><li class="chapter-item expanded "><a href="../user/error-reporting.html"><strong aria-hidden="true">2.7.</strong> Error reporting</a></li><li class="chapter-item expanded "><a href="../user/experiments-api.html"><strong aria-hidden="true">2.8.</strong> Using the experiments API</a></li><li class="chapter-item expanded "><a href="../user/metrics/index.html"><strong aria-hidden="true">2.9.</strong> Metric types</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../user/metrics/boolean.html"><strong aria-hidden="true">2.9.1.</strong> Boolean</a></li><li class="chapter-item expanded "><a href="../user/metrics/labeled_booleans.html"><strong aria-hidden="true">2.9.2.</strong> Labeled Booleans</a></li><li class="chapter-item expanded "><a href="../user/metrics/counter.html"><strong aria-hidden="true">2.9.3.</strong> Counter</a></li><li class="chapter-item expanded "><a href="../user/metrics/labeled_counters.html"><strong aria-hidden="true">2.9.4.</strong> Labeled Counters</a></li><li class="chapter-item expanded "><a href="../user/metrics/jwe.html"><strong aria-hidden="true">2.9.5.</strong> JWE</a></li><li class="chapter-item expanded "><a href="../user/metrics/string.html"><strong aria-hidden="true">2.9.6.</strong> String</a></li><li class="chapter-item expanded "><a href="../user/metrics/labeled_strings.html"><strong aria-hidden="true">2.9.7.</strong> Labeled Strings</a></li><li class="chapter-item expanded "><a href="../user/metrics/string_list.html"><strong aria-hidden="true">2.9.8.</strong> String List</a></li><li class="chapter-item expanded "><a href="../user/metrics/timespan.html"><strong aria-hidden="true">2.9.9.</strong> Timespan</a></li><li class="chapter-item expanded "><a href="../user/metrics/timing_distribution.html"><strong aria-hidden="true">2.9.10.</strong> Timing Distribution</a></li><li class="chapter-item expanded "><a href="../user/metrics/memory_distribution.html"><strong aria-hidden="true">2.9.11.</strong> Memory Distribution</a></li><li class="chapter-item expanded "><a href="../user/metrics/uuid.html"><strong aria-hidden="true">2.9.12.</strong> UUID</a></li><li class="chapter-item expanded "><a href="../user/metrics/datetime.html"><strong aria-hidden="true">2.9.13.</strong> Datetime</a></li><li class="chapter-item expanded "><a href="../user/metrics/event.html"><strong aria-hidden="true">2.9.14.</strong> Event</a></li><li class="chapter-item expanded "><a href="../user/metrics/custom_distribution.html"><strong aria-hidden="true">2.9.15.</strong> Custom Distribution</a></li><li class="chapter-item expanded "><a href="../user/metrics/quantity.html"><strong aria-hidden="true">2.9.16.</strong> Quantity</a></li></ol></li><li class="chapter-item expanded "><a href="../user/pings/index.html"><strong aria-hidden="true">2.10.</strong> Pings</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../user/pings/ping-schedules-and-timings.html"><strong aria-hidden="true">2.10.1.</strong> Ping schedules and timings overview</a></li><li class="chapter-item expanded "><a href="../user/pings/baseline.html"><strong aria-hidden="true">2.10.2.</strong> Baseline Ping</a></li><li class="chapter-item expanded "><a href="../user/pings/deletion_request.html"><strong aria-hidden="true">2.10.3.</strong> Deletion Request Ping</a></li><li class="chapter-item expanded "><a href="../user/pings/metrics.html"><strong aria-hidden="true">2.10.4.</strong> Metrics Ping</a></li><li class="chapter-item expanded "><a href="../user/pings/events.html"><strong aria-hidden="true">2.10.5.</strong> Events Ping</a></li><li class="chapter-item expanded "><a href="../user/pings/custom.html"><strong aria-hidden="true">2.10.6.</strong> Custom Pings</a></li><li class="chapter-item expanded "><a href="../user/pings/testing-custom-pings.html"><strong aria-hidden="true">2.10.7.</strong> Testing custom pings</a></li></ol></li><li class="chapter-item expanded "><a href="../user/android-build-configuration-options.html"><strong aria-hidden="true">2.11.</strong> Android build configuration options</a></li><li class="chapter-item expanded "><a href="../user/focused-use-cases.html"><strong aria-hidden="true">2.12.</strong> Focused Use Cases</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../user/instrument-android-crashes-example.html"><strong aria-hidden="true">2.12.1.</strong> Instrumenting Android Crashes With Glean</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="../user/collected-metrics/metrics.html"><strong aria-hidden="true">3.</strong> Metrics collected by the Glean SDK</a></li><li class="chapter-item expanded "><a href="../dev/index.html"><strong aria-hidden="true">4.</strong> Developing the Glean SDK</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../dev/testing.html"><strong aria-hidden="true">4.1.</strong> Testing</a></li><li class="chapter-item expanded "><a href="../dev/docs.html"><strong aria-hidden="true">4.2.</strong> Developing documentation</a></li><li class="chapter-item expanded "><a href="../dev/android/index.html"><strong aria-hidden="true">4.3.</strong> Android bindings</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../dev/android/setup-android-build-environment.html"><strong aria-hidden="true">4.3.1.</strong> Setup Build Environment</a></li><li class="chapter-item expanded "><a href="../dev/android/sdk-ndk-versions.html"><strong aria-hidden="true">4.3.2.</strong> Android SDK/NDK versions</a></li><li class="chapter-item expanded "><a href="../dev/android/development-with-android-components.html"><strong aria-hidden="true">4.3.3.</strong> Development with android-components</a></li><li class="chapter-item expanded "><a href="../dev/android/locally-published-components-in-fenix.html"><strong aria-hidden="true">4.3.4.</strong> Locally-published components in Fenix</a></li></ol></li><li class="chapter-item expanded "><a href="../dev/ios/index.html"><strong aria-hidden="true">4.4.</strong> iOS bindings</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../dev/ios/setup-ios-build-environment.html"><strong aria-hidden="true">4.4.1.</strong> Setup Build Environment</a></li><li class="chapter-item expanded "><a href="../dev/ios/debug-glean-on-ios.html"><strong aria-hidden="true">4.4.2.</strong> Debugging Different Versions of Glean</a></li></ol></li><li class="chapter-item expanded "><a href="../dev/python/index.html"><strong aria-hidden="true">4.5.</strong> Python bindings</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../dev/python/setting-up-python-build-environment.html"><strong aria-hidden="true">4.5.1.</strong> Setup Build Environment</a></li></ol></li><li class="chapter-item expanded "><a href="../dev/core/index.html"><strong aria-hidden="true">4.6.</strong> Rust Component</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../dev/core/dependency-management.html"><strong aria-hidden="true">4.6.1.</strong> Dependency Management</a></li><li class="chapter-item expanded "><a href="../dev/core/new-metric-type.html"><strong aria-hidden="true">4.6.2.</strong> Adding a new metric type</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../dev/core/new-metric-type/ffi.html"><strong aria-hidden="true">4.6.2.1.</strong> FFI</a></li><li class="chapter-item expanded "><a href="../dev/core/new-metric-type/kotlin.html"><strong aria-hidden="true">4.6.2.2.</strong> Kotlin</a></li><li class="chapter-item expanded "><a href="../dev/core/new-metric-type/swift.html"><strong aria-hidden="true">4.6.2.3.</strong> Swift</a></li><li class="chapter-item expanded "><a href="../dev/core/new-metric-type/python.html"><strong aria-hidden="true">4.6.2.4.</strong> Python</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="../dev/ffi/index.html"><strong aria-hidden="true">4.7.</strong> FFI Layer</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../dev/ffi/when-to-use-what-in-the-ffi.html"><strong aria-hidden="true">4.7.1.</strong> When/How FFI</a></li></ol></li><li class="chapter-item expanded "><a href="../contributing.html"><strong aria-hidden="true">4.8.</strong> Contributing</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../code_coverage.html"><strong aria-hidden="true">4.8.1.</strong> Code coverage</a></li></ol></li><li class="chapter-item expanded "><a href="../dev/cut-a-new-release.html"><strong aria-hidden="true">4.9.</strong> Release process</a></li><li class="chapter-item expanded "><a href="../dev/core/internal/index.html"><strong aria-hidden="true">4.10.</strong> Internal implementation details</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../dev/core/internal/reserved-ping-names.html"><strong aria-hidden="true">4.10.1.</strong> Reserved ping names</a></li><li class="chapter-item expanded "><a href="../dev/core/internal/clearing.html"><strong aria-hidden="true">4.10.2.</strong> Clearing metrics when disabling/enabling Glean</a></li><li class="chapter-item expanded "><a href="../dev/core/internal/payload.html"><strong aria-hidden="true">4.10.3.</strong> Payload format</a></li><li class="chapter-item expanded "><a href="../dev/core/internal/directory-structure.html"><strong aria-hidden="true">4.10.4.</strong> Directory structure</a></li><li class="chapter-item expanded "><a href="../dev/core/internal/debug-pings.html"><strong aria-hidden="true">4.10.5.</strong> Debug Pings</a></li><li class="chapter-item expanded "><a href="../dev/core/internal/upload.html"><strong aria-hidden="true">4.10.6.</strong> Upload mechanism</a></li><li class="chapter-item expanded "><a href="../dev/core/internal/implementations.html"><strong aria-hidden="true">4.10.7.</strong> Implementations</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="../api/index.html"><strong aria-hidden="true">5.</strong> API Documentation</a></li><li class="chapter-item expanded "><a href="../appendix/index.html"><strong aria-hidden="true">6.</strong> Appendix</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../appendix/glossary.html"><strong aria-hidden="true">6.1.</strong> Glossary</a></li><li class="chapter-item expanded "><a href="../appendix/changelog.html" class="active"><strong aria-hidden="true">6.2.</strong> Changelog</a></li><li class="chapter-item expanded "><a href="../appendix/twig.html"><strong aria-hidden="true">6.3.</strong> This Week in Glean</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                        
                    </div>

                    <h1 class="menu-title">Glean - Cross-platform Telemetry library</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        
                        <a href="https://github.com/mozilla/glean" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                        
                    </div>
                </div>

                
                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" name="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1><a class="header" href="#unreleased-changes" id="unreleased-changes">Unreleased changes</a></h1>
<p><a href="https://github.com/mozilla/glean/compare/v31.6.0...main">Full changelog</a></p>
<h1><a class="header" href="#v3160-2020-07-24" id="v3160-2020-07-24">v31.6.0 (2020-07-24)</a></h1>
<p><a href="https://github.com/mozilla/glean/compare/v31.5.0...v31.6.0">Full changelog</a></p>
<ul>
<li>General
<ul>
<li>Implement JWE metric type (<a href="https://github.com/mozilla/glean/pull/1073">#1073</a>, <a href="https://github.com/mozilla/glean/pull/1062">#1062</a>).</li>
<li>DEPRECATION: <code>getUploadEnabled</code> is deprecated (respectively <code>get_upload_enabled</code> in Python) (<a href="https://github.com/mozilla/glean/pull/1046">#1046</a>)
<ul>
<li>Due to Glean's asynchronous initialization the return value can be incorrect.
Applications should not rely on Glean's internal state.
Upload enabled status should be tracked by the application and communicated to Glean if it changes.
Note: The method was removed from the C# and Python implementation.</li>
</ul>
</li>
<li>Update <code>glean_parser</code> to <code>v1.28.1</code>
<ul>
<li>The <code>glean_parser</code> linting was leading consumers astray by incorrectly suggesting that <code>deletion-request</code> be instead <code>deletion_request</code> when used for <code>send_in_pings</code>. This was causing metrics intended for the <code>deletion-request</code> ping to not be included when it was collected and submitted. Consumers that are sending metrics in the <code>deletion-request</code> ping will need to update the <code>send_in_pings</code> value in their metrics.yaml to correct this.</li>
<li>Fixes a bug in doc rendering.</li>
</ul>
</li>
</ul>
</li>
</ul>
<h1><a class="header" href="#v3150-2020-07-22" id="v3150-2020-07-22">v31.5.0 (2020-07-22)</a></h1>
<p><a href="https://github.com/mozilla/glean/compare/v31.4.1...v31.5.0">Full changelog</a></p>
<ul>
<li>General
<ul>
<li>Implement ping tagging (i.e. the <code>X-Source-Tags</code> header) (<a href="https://github.com/mozilla/glean/pull/1074">#1074</a>). Note that this is not yet implemented for iOS.</li>
<li>String values that are too long now record <code>invalid_overflow</code> rather than <code>invalid_value</code> through the Glean error reporting mechanism. This affects the string, event and string list metrics.</li>
<li><code>metrics.yaml</code> files now support a <code>data_sensitivity</code> field to all metrics for specifying the type of data collected in the field.</li>
</ul>
</li>
<li>Python
<ul>
<li>The Python unit tests no longer send telemetry to the production telemetry endpoint.</li>
<li>BUGFIX: If an <code>application_version</code> isn't provided to <code>Glean.initialize</code>, the <code>client_info.app_display_version</code> metric is set to <code>&quot;Unknown&quot;</code>, rather than resulting in invalid pings.</li>
</ul>
</li>
<li>Android
<ul>
<li>Allow defining which <code>Activity</code> to run next when using the <code>GleanDebugActivity</code>.</li>
</ul>
</li>
<li>iOS
<ul>
<li>BUGFIX: The memory unit is now correctly set on the <code>MemoryDistribution</code> metric type in Swift in generated metrics code.</li>
</ul>
</li>
<li>C#
<ul>
<li>Metrics can now be generated from the <code>metrics.yaml</code> files.</li>
</ul>
</li>
</ul>
<h1><a class="header" href="#v3141-2020-07-20" id="v3141-2020-07-20">v31.4.1 (2020-07-20)</a></h1>
<p><a href="https://github.com/mozilla/glean/compare/v31.4.0...v31.4.1">Full changelog</a></p>
<ul>
<li>General
<ul>
<li>BUGFIX: fix <code>int32</code> to <code>ErrorType</code> mapping. The <code>InvalidOverflow</code> had a value mismatch between glean-core and the bindings. This would only be a problem in unit tests. (<a href="https://github.com/mozilla/glean/pull/1063">#1063</a>)</li>
</ul>
</li>
<li>Android
<ul>
<li>Enable propagating options to the main product Activity when using the <code>GleanDebugActivity</code>.</li>
<li>BUGFIX: Fix the metrics ping collection for startup pings such as <code>reason=upgrade</code> to occur in the same thread/task as Glean initialize. Otherwise, it gets collected after the application lifetime metrics are cleared such as experiments that should be in the ping. (<a href="https://github.com/mozilla/glean/pull/1069">#1069</a>)</li>
</ul>
</li>
</ul>
<h1><a class="header" href="#v3140-2020-07-16" id="v3140-2020-07-16">v31.4.0 (2020-07-16)</a></h1>
<p><a href="https://github.com/mozilla/glean/compare/v31.3.0...v31.4.0">Full changelog</a></p>
<ul>
<li>General
<ul>
<li>Enable debugging features through environment variables. (<a href="https://github.com/mozilla/glean/pull/1058">#1058</a>)</li>
</ul>
</li>
</ul>
<h1><a class="header" href="#v3130-2020-07-10" id="v3130-2020-07-10">v31.3.0 (2020-07-10)</a></h1>
<p><a href="https://github.com/mozilla/glean/compare/v31.2.3...v31.3.0">Full changelog</a></p>
<ul>
<li>General
<ul>
<li>Remove locale from baseline ping. (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1609968">1609968</a>, <a href="https://github.com/mozilla/glean/pull/1016">#1016</a>)</li>
<li>Persist X-Debug-ID header on store ping. (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1605097">1605097</a>, <a href="https://github.com/mozilla/glean/pull/1042">#1042</a>)</li>
<li>BUGFIX: raise an error if Glean is initialized with an empty string as the <code>application_id</code> (<a href="https://github.com/mozilla/glean/pull/1043">#1043</a>).</li>
</ul>
</li>
<li>Python
<ul>
<li>BUGFIX: correctly set the <code>app_build</code> metric to the newly provided <code>application_build_id</code> initialization option (<a href="https://github.com/mozilla/glean/pull/1031">#1031</a>).</li>
<li>The Python bindings now report networking errors in the <code>glean.upload.ping_upload_failure</code> metric (like all the other bindings) (<a href="https://github.com/mozilla/glean/pull/1039">#1039</a>).</li>
<li>Python default upgraded to Python 3.8 (<a href="https://github.com/mozilla/glean/pull/995">#995</a>)</li>
</ul>
</li>
<li>iOS
<ul>
<li>BUGFIX: Make <code>LabeledMetric</code> subscript public, so consuming applications can actually access it (<a href="https://github.com/mozilla/glean/pull/1027">#1027</a>)</li>
</ul>
</li>
</ul>
<h1><a class="header" href="#v3123-2020-06-29" id="v3123-2020-06-29">v31.2.3 (2020-06-29)</a></h1>
<p><a href="https://github.com/mozilla/glean/compare/v31.2.2...v31.2.3">Full changelog</a></p>
<ul>
<li>General
<ul>
<li>Move debug view tag management to the Rust core. (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1640575">1640575</a>, <a href="https://github.com/mozilla/glean/pull/998">#998</a>)</li>
<li>BUGFIX: Fix mismatch in <code>event</code>s keys and values by using <code>glean_parser</code> version 1.23.0.</li>
</ul>
</li>
</ul>
<h1><a class="header" href="#v3122-2020-06-26" id="v3122-2020-06-26">v31.2.2 (2020-06-26)</a></h1>
<p><a href="https://github.com/mozilla/glean/compare/v31.2.1...v31.2.2">Full changelog</a></p>
<ul>
<li>Android
<ul>
<li>BUGFIX: Compile dependencies with <code>NDEBUG</code> to avoid linking unavailable symbols.
This fixes a crash due to a missing <code>stderr</code> symbol on older Android (<a href="https://github.com/mozilla/glean/pull/1020">#1020</a>)</li>
</ul>
</li>
</ul>
<h1><a class="header" href="#v3121-2020-06-25" id="v3121-2020-06-25">v31.2.1 (2020-06-25)</a></h1>
<p><a href="https://github.com/mozilla/glean/compare/v31.2.0...v31.2.1">Full changelog</a></p>
<ul>
<li>Python
<ul>
<li>BUGFIX: Core metrics are now present in every ping, even if submit is called before initialize has a chance to complete. (<a href="https://github.com/mozilla/glean/pull/1012">#1012</a>)</li>
</ul>
</li>
</ul>
<h1><a class="header" href="#v3120-2020-06-24" id="v3120-2020-06-24">v31.2.0 (2020-06-24)</a></h1>
<p><a href="https://github.com/mozilla/glean/compare/v31.1.2...v31.2.0">Full changelog</a></p>
<ul>
<li>General
<ul>
<li>Add rate limiting capabilities to the upload manager. (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1543612">1543612</a>, <a href="https://github.com/mozilla/glean/pull/974">#974</a>)</li>
</ul>
</li>
<li>Android
<ul>
<li>BUGFIX: baseline pings with reason &quot;dirty startup&quot; are no longer sent if Glean did not full initialize in the previous run (<a href="https://github.com/mozilla/glean/pull/996">#996</a>).</li>
</ul>
</li>
<li>Python
<ul>
<li>Support for Python 3.5 was dropped (<a href="https://github.com/mozilla/glean/pull/987">#987</a>).</li>
<li>Python wheels are now shipped with Glean release builds, resulting in much smaller libraries (<a href="https://github.com/mozilla/glean/pull/1002">#1002</a>)</li>
<li>The Python bindings now use <code>locale.getdefaultlocale()</code> rather than <code>locale.getlocale()</code> to determine the locale (<a href="https://github.com/mozilla/glean/pull/1004">#1004</a>).</li>
</ul>
</li>
</ul>
<h1><a class="header" href="#v3112-2020-06-23" id="v3112-2020-06-23">v31.1.2 (2020-06-23)</a></h1>
<p><a href="https://github.com/mozilla/glean/compare/v31.1.1...v31.1.2">Full changelog</a></p>
<ul>
<li>General
<ul>
<li>BUGFIX: Correctly format the date and time in the <code>Date</code> header (<a href="https://github.com/mozilla/glean/pull/993">#993</a>).</li>
</ul>
</li>
<li>Python
<ul>
<li>BUGFIX: Additional time is taken at shutdown to make sure pings are sent and telemetry is recorded. (<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1646173">1646173</a>, <a href="https://github.com/mozilla/glean/pull/983">#983</a>)</li>
<li>BUGFIX: Glean will run on the main thread when running in a <code>multiprocessing</code> subprocess (<a href="https://github.com/mozilla/glean/pull/986">#986</a>).</li>
</ul>
</li>
</ul>
<h1><a class="header" href="#v3111-2020-06-12" id="v3111-2020-06-12">v31.1.1 (2020-06-12)</a></h1>
<p><a href="https://github.com/mozilla/glean/compare/v31.1.0...v31.1.1">Full changelog</a></p>
<ul>
<li>Android
<ul>
<li>Dropping the version requirement for lifecycle extensions down again. Upping the required version caused problems in A-C.</li>
</ul>
</li>
</ul>
<h1><a class="header" href="#v3110-2020-06-11" id="v3110-2020-06-11">v31.1.0 (2020-06-11)</a></h1>
<p><a href="https://github.com/mozilla/glean/compare/v31.0.2...v31.1.0">Full changelog</a></p>
<ul>
<li>General:
<ul>
<li>The <code>regex</code> crate is no longer required, making the Glean binary smaller (<a href="https://github.com/mozilla/glean/pull/949">#949</a>)</li>
<li>Record upload failures into a new metric (<a href="https://github.com/mozilla/glean/pull/967">#967</a>)</li>
<li>Log FFI errors as actual errors (<a href="https://github.com/mozilla/glean/pull/935">#935</a>)</li>
<li>Limit the number of upload retries in all implementations (<a href="https://github.com/mozilla/glean/pull/953">#953</a>, <a href="https://github.com/mozilla/glean/pull/968">#968</a>)</li>
</ul>
</li>
<li>Python
<ul>
<li>Additional safety guarantees for applications that use Python <code>threading</code> (<a href="https://github.com/mozilla/glean/pull/962">#962</a>)</li>
</ul>
</li>
</ul>
<h1><a class="header" href="#v3102-2020-05-29" id="v3102-2020-05-29">v31.0.2 (2020-05-29)</a></h1>
<p><a href="https://github.com/mozilla/glean/compare/v31.0.1...v31.0.2">Full changelog</a></p>
<ul>
<li>Rust
<ul>
<li>Fix list of included files in published crates</li>
</ul>
</li>
</ul>
<h1><a class="header" href="#v3101-2020-05-29" id="v3101-2020-05-29">v31.0.1 (2020-05-29)</a></h1>
<p><a href="https://github.com/mozilla/glean/compare/v31.0.0...v31.0.1">Full changelog</a></p>
<ul>
<li>Rust
<ul>
<li>Relax version requirement for <code>flate2</code> for compatibility reasons</li>
</ul>
</li>
</ul>
<h1><a class="header" href="#v3100-2020-05-28" id="v3100-2020-05-28">v31.0.0 (2020-05-28)</a></h1>
<p><a href="https://github.com/mozilla/glean/compare/v30.1.0...v31.0.0">Full changelog</a></p>
<ul>
<li>
<p>General:</p>
<ul>
<li>The version of <code>glean_parser</code> has been upgraded to v1.22.0
<ul>
<li>A maximum of 10 <code>extra_keys</code> is now enforced for event metric types.</li>
<li><strong>Breaking change</strong>: (Swift only) Combine all metrics and pings into a single generated file Metrics.swift.
<ul>
<li>For Swift users this requires to change the list of output files for the <code>sdk_generator.sh</code> script.
It now only needs to include the single file <code>Generated/Metrics.swift</code>.</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Python:</p>
<ul>
<li>BUGFIX: <code>lifetime: application</code> metrics are no longer recorded as <code>lifetime: user</code>.</li>
<li>BUGFIX: glean-core is no longer crashing when calling <code>uuid.set</code> with invalid UUIDs.</li>
<li>Refactor the ping uploader to use the new upload mechanism and add gzip compression.</li>
<li>Most of the work in <code>Glean.initialize</code> happens on a worker thread and no longer blocks
the main thread.</li>
</ul>
</li>
<li>
<p>Rust:</p>
<ul>
<li>Expose <code>Datetime</code> types to Rust consumers.</li>
</ul>
</li>
</ul>
<h1><a class="header" href="#v3010-2020-05-22" id="v3010-2020-05-22">v30.1.0 (2020-05-22)</a></h1>
<p><a href="https://github.com/mozilla/glean/compare/v30.0.0...v30.1.0">Full changelog</a></p>
<ul>
<li>Android &amp; iOS
<ul>
<li>Ping payloads are now compressed using gzip.</li>
</ul>
</li>
<li>iOS
<ul>
<li><code>Glean.initialize</code> is now a no-op if called from an embedded extension. This means that Glean will only run in the base application process in order to prevent extensions from behaving like separate applications with different client ids from the base application. Applications are responsible for ensuring that extension metrics are only collected within the base application.</li>
</ul>
</li>
<li>Python
<ul>
<li><code>lifetime: application</code> metrics are now cleared after the Glean-owned pings are sent,
after the product starts.</li>
<li>Glean Python bindings now build in a native Windows environment.</li>
<li>BUGFIX: <code>MemoryDistributionMetric</code> now parses correctly in <code>metrics.yaml</code> files.</li>
<li>BUGFIX: Glean will no longer crash if run as part of another library's coverage testing.</li>
</ul>
</li>
</ul>
<h1><a class="header" href="#v3000-2020-05-13" id="v3000-2020-05-13">v30.0.0 (2020-05-13)</a></h1>
<p><a href="https://github.com/mozilla/glean/compare/v29.1.0...v30.0.0">Full changelog</a></p>
<ul>
<li>General:
<ul>
<li>We completely replaced how the upload mechanism works.
glean-core (the Rust part) now controls all upload and coordinates the platform side with its own internals.
All language bindings implement ping uploading around a common API and protocol.
There is no change for users of Glean, the language bindings for Android and iOS have been adopted to the new mechanism already.</li>
<li>Expose <code>RecordedEvent</code> and <code>DistributionData</code> types to Rust consumers (<a href="https://github.com/mozilla/glean/pull/876">#876</a>)</li>
<li>Log crate version at initialize (<a href="https://github.com/mozilla/glean/pull/873">#873</a>)</li>
</ul>
</li>
<li>Android:
<ul>
<li>Refactor the ping uploader to use the new upload mechanism.</li>
</ul>
</li>
<li>iOS:
<ul>
<li>Refactor the ping uploader to use the new upload mechanism.</li>
</ul>
</li>
</ul>
<h1><a class="header" href="#v2911-2020-05-22" id="v2911-2020-05-22">v29.1.1 (2020-05-22)</a></h1>
<p><a href="https://github.com/mozilla/glean/compare/v29.1.0...v29.1.1">Full changelog</a></p>
<ul>
<li>Android
<ul>
<li>BUGFIX: Fix a race condition that leads to a <code>ConcurrentModificationException</code>. <a href="https://bugzilla.mozilla.org/1635865">Bug 1635865</a></li>
</ul>
</li>
</ul>
<h1><a class="header" href="#v2910-2020-05-11" id="v2910-2020-05-11">v29.1.0 (2020-05-11)</a></h1>
<p><a href="https://github.com/mozilla/glean/compare/v29.0.0...v29.1.0">Full changelog</a></p>
<ul>
<li>General:
<ul>
<li>The version of glean_parser has been upgraded to v1.20.4
<ul>
<li>BUGFIX: <code>yamllint</code> errors are now reported using the correct file name.</li>
</ul>
</li>
<li>The minimum and maximum values of a timing distribution can now be controlled by the <code>time_unit</code> parameter. See <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1630997">bug 1630997</a> for more details.</li>
</ul>
</li>
</ul>
<h1><a class="header" href="#v2900-2020-05-05" id="v2900-2020-05-05">v29.0.0 (2020-05-05)</a></h1>
<p><a href="https://github.com/mozilla/glean/compare/v28.0.0...v29.0.0">Full changelog</a></p>
<ul>
<li>General:
<ul>
<li>The version of glean_parser has been upgraded to v1.20.2 (<a href="https://github.com/mozilla/glean/pull/827">#827</a>):
<ul>
<li><strong>Breaking change:</strong> glinter errors found during code generation will now return an error code.</li>
<li><code>glean_parser</code> now produces a linter warning when <code>user</code> lifetime metrics are set to expire. See <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1604854">bug 1604854</a> for additional context.</li>
</ul>
</li>
</ul>
</li>
<li>Android:
<ul>
<li>The <code>PingType.submit()</code> can now be called without a <code>null</code> by Java consumers (<a href="https://github.com/mozilla/glean/pull/853">#853</a>).</li>
</ul>
</li>
<li>Python:
<ul>
<li>BUGFIX: Fixed a race condition in the <code>atexit</code> handler, that would have resulted in the message &quot;No database found&quot; (<a href="https://github.com/mozilla/glean/pull/854">#854</a>).</li>
<li>The Glean FFI header is now parsed at build time rather than runtime. Relevant for packaging in <code>PyInstaller</code>, the wheel no longer includes <code>glean.h</code> and adds <code>_glean_ffi.py</code> (<a href="https://github.com/mozilla/glean/pull/852">#852</a>).</li>
<li>The minimum versions of many secondary dependencies have been lowered to make the Glean SDK compatible with more environments.</li>
<li>Dependencies that depend on the version of Python being used are now specified using the <a href="https://setuptools.readthedocs.io/en/latest/setuptools.html#declaring-platform-specific-dependencies">Declaring platform specific dependencies syntax in setuptools</a>. This means that more recent versions of dependencies are likely to be installed on Python 3.6 and later, and unnecessary backport libraries won't be installed on more recent Python versions.</li>
</ul>
</li>
<li>iOS:
<ul>
<li>Glean for iOS is now being built with Xcode 11.4.1 (<a href="https://github.com/mozilla/glean/pull/856">#856</a>)</li>
</ul>
</li>
</ul>
<h1><a class="header" href="#v2800-2020-04-23" id="v2800-2020-04-23">v28.0.0 (2020-04-23)</a></h1>
<p><a href="https://github.com/mozilla/glean/compare/v27.1.0...v28.0.0">Full changelog</a></p>
<ul>
<li>General:
<ul>
<li>The baseline ping is now sent when the application goes to foreground, in addition to background and dirty-startup.</li>
</ul>
</li>
<li>Python:
<ul>
<li>BUGFIX: The ping uploader will no longer display a trace back when the upload fails due to a failed DNS lookup, network outage, or related issues that prevent communication with the telemetry endpoint.</li>
<li>The dependency on <code>inflection</code> has been removed.</li>
<li>The Python bindings now use <code>subprocess</code> rather than <code>multiprocessing</code> to perform ping uploading in a separate process. This should be more compatible on all of the platforms Glean supports.</li>
</ul>
</li>
</ul>
<h1><a class="header" href="#v2710-2020-04-09" id="v2710-2020-04-09">v27.1.0 (2020-04-09)</a></h1>
<p><a href="https://github.com/mozilla/glean/compare/v27.0.0...v27.1.0">Full changelog</a></p>
<ul>
<li>General:
<ul>
<li>BUGFIX: baseline pings sent at startup with the <code>dirty_startup</code> reason will now include application lifetime metrics (<a href="https://github.com/mozilla/glean/pull/810">#810</a>)</li>
</ul>
</li>
<li>iOS:
<ul>
<li><strong>Breaking change:</strong> Change Glean iOS to use Application Support directory <a href="https://github.com/mozilla/glean/pull/815">#815</a>. No migration code is included. This will reset collected data if integrated without migration. Please <a href="https://github.com/mozilla/glean#contact">contact the Glean SDK team</a> if this affects you.</li>
</ul>
</li>
<li>Python
<ul>
<li>BUGFIX: Fixed a race condition between uploading pings and deleting the temporary directory on shutdown of the process.</li>
</ul>
</li>
</ul>
<h1><a class="header" href="#v2700-2020-04-08" id="v2700-2020-04-08">v27.0.0 (2020-04-08)</a></h1>
<p><a href="https://github.com/mozilla/glean/compare/v26.0.0...v27.0.0">Full changelog</a></p>
<ul>
<li>General
<ul>
<li>Glean will now detect when the upload enabled flag changes outside of the application, for example due to a change in a config file. This means that if upload is disabled while the application wasn't running (e.g. between the runs of a Python command using the Glean SDK), the database is correctly cleared and a deletion request ping is sent. See <a href="https://github.com/mozilla/glean/pull/791">#791</a>.</li>
<li>The <code>events</code> ping now includes a reason code: <code>startup</code>, <code>background</code> or <code>max_capacity</code>.</li>
</ul>
</li>
<li>iOS:
<ul>
<li>BUGFIX: A bug where the metrics ping is sent immediately at startup on the last day of the month has been fixed.</li>
<li>Glean for iOS is now being built with Xcode 11.4.0</li>
<li>The <code>measure</code> convenience function on timing distributions and time spans will now cancel the timing if the measured function throws, then rethrow the exception (<a href="https://github.com/mozilla/glean/pull/808">#808</a>)</li>
<li>Broken doc generation has been fixed (<a href="https://github.com/mozilla/glean/pull/805">#805</a>).</li>
</ul>
</li>
<li>Kotlin
<ul>
<li>The <code>measure</code> convenience function on timing distributions and time spans will now cancel the timing if the measured function throws, then rethrow the exception (<a href="https://github.com/mozilla/glean/pull/808">#808</a>)</li>
</ul>
</li>
<li>Python:
<ul>
<li>Glean will now wait at application exit for up to one second to let its worker thread complete.</li>
<li>Ping uploading now happens in a separate child process by default. This can be disabled with the <code>allow_multiprocessing</code> configuration option.</li>
</ul>
</li>
</ul>
<h1><a class="header" href="#v2600-2020-03-27" id="v2600-2020-03-27">v26.0.0 (2020-03-27)</a></h1>
<p><a href="https://github.com/mozilla/glean/compare/v25.1.0...v26.0.0">Full changelog</a></p>
<ul>
<li>General:
<ul>
<li>The version of <code>glean_parser</code> has been updated to 1.19.0:
<ul>
<li><strong>Breaking change:</strong> The regular expression used to validate labels is
stricter and more correct.</li>
<li>Add more information about pings to markdown documentation:
<ul>
<li>State whether the ping includes client id;</li>
<li>Add list of data review links;</li>
<li>Add list of related bugs links.</li>
</ul>
</li>
<li><code>glean_parser</code> now makes it easier to write external translation functions for
different language targets.</li>
<li>BUGFIX: glean_parser now works on 32-bit Windows.</li>
</ul>
</li>
</ul>
</li>
<li>Android:
<ul>
<li><code>gradlew clean</code> will no longer remove the Miniconda installation in
<code>~/.gradle/glean</code>. Therefore <code>clean</code> can be used without reinstalling
Miniconda afterward every time.</li>
</ul>
</li>
<li>Python:
<ul>
<li><strong>Breaking Change</strong>: The <code>glean.util</code> and <code>glean.hardware</code> modules, which
were unintentionally public, have been made private.</li>
<li>Most Glean work and I/O is now done on its own worker thread. This brings the parallelism Python in line with the other platforms.</li>
<li>The timing distribution, memory distribution, string list, labeled boolean and labeled string metric types are now supported in Python (<a href="https://github.com/mozilla/glean/pull/762">#762</a>, <a href="https://github.com/mozilla/glean/pull/763">#763</a>, <a href="https://github.com/mozilla/glean/pull/765">#765</a>, <a href="https://github.com/mozilla/glean/pull/766">#766</a>)</li>
</ul>
</li>
</ul>
<h1><a class="header" href="#v2510-2020-02-26" id="v2510-2020-02-26">v25.1.0 (2020-02-26)</a></h1>
<p><a href="https://github.com/mozilla/glean/compare/v25.0.0...v25.1.0">Full changelog</a></p>
<ul>
<li>Python:
<ul>
<li>The Boolean, Datetime and Timespan metric types are now supported in Python (<a href="https://github.com/mozilla/glean/pull/731">#731</a>, <a href="https://github.com/mozilla/glean/pull/732">#732</a>, <a href="https://github.com/mozilla/glean/pull/737">#737</a>)</li>
<li>Make public, document and test the debugging features (<a href="https://github.com/mozilla/glean/pull/733">#733</a>)</li>
</ul>
</li>
</ul>
<h1><a class="header" href="#v2500-2020-02-17" id="v2500-2020-02-17">v25.0.0 (2020-02-17)</a></h1>
<p><a href="https://github.com/mozilla/glean/compare/v24.2.0...v25.0.0">Full changelog</a></p>
<ul>
<li>General:
<ul>
<li><code>ping_type</code> is not included in the <code>ping_info</code> any more (<a href="https://github.com/mozilla/glean/pull/653">#653</a>), the pipeline takes the value from the submission URL.</li>
<li>The version of <code>glean_parser</code> has been upgraded to 1.18.2:
<ul>
<li><strong>Breaking Change (Java API)</strong> Have the metrics names in Java match the names in Kotlin.
See <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1588060">Bug 1588060</a>.</li>
<li>The reasons a ping are sent are now included in the generated markdown documentation.</li>
</ul>
</li>
</ul>
</li>
<li>Android:
<ul>
<li>The <code>Glean.initialize</code> method runs mostly off the main thread (<a href="https://github.com/mozilla/glean/pull/672">#672</a>).</li>
<li>Labels in labeled metrics now have a correct, and slightly stricter, regular expression.
See <a href="https://mozilla.github.io/glean/user/metrics/index.html#label-format">label format</a> for more information.</li>
</ul>
</li>
<li>iOS:
<ul>
<li>The baseline ping will now include <code>reason</code> codes that indicate why it was
submitted. If an unclean shutdown is detected (e.g. due to force-close), this
ping will be sent at startup with <code>reason: dirty_startup</code>.</li>
<li>Per <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1614785">Bug 1614785</a>, the
clearing of application lifetime metrics now occurs after the metrics ping is
sent in order to preserve values meant to be included in the startup metrics
ping.</li>
<li><code>initialize()</code> now performs most of its work in a background thread.</li>
</ul>
</li>
<li>Python:
<ul>
<li>When the pre-init task queue overruns, this is now recorded in the metric
<code>glean.error.preinit_tasks_overflow</code>.</li>
<li>glinter warnings are printed to <code>stderr</code> when loading <code>metrics.yaml</code> and
<code>pings.yaml</code> files.</li>
</ul>
</li>
</ul>
<h1><a class="header" href="#v2420-2020-02-11" id="v2420-2020-02-11">v24.2.0 (2020-02-11)</a></h1>
<p><a href="https://github.com/mozilla/glean/compare/v24.1.0...v24.2.0">Full changelog</a></p>
<ul>
<li>General:
<ul>
<li>Add <code>locale</code> to <code>client_info</code> section.</li>
<li><strong>Deprecation Warning</strong> Since <code>locale</code> is now in the <code>client_info</code> section, the one
in the baseline ping (<a href="https://github.com/mozilla/glean/blob/c261205d6e84d2ab39c50003a8ffc3bd2b763768/glean-core/metrics.yaml#L28-L42"><code>glean.baseline.locale</code></a>)
is redundant and will be removed by the end of the quarter.</li>
<li>Drop the Glean handle and move state into glean-core (<a href="https://github.com/mozilla/glean/pull/664">#664</a>)</li>
<li>If an experiment includes no <code>extra</code> fields, it will no longer include <code>{&quot;extra&quot;: null}</code> in the JSON payload.</li>
<li>Support for ping <code>reason</code> codes was added.</li>
<li>The metrics ping will now include <code>reason</code> codes that indicate why it was
submitted.</li>
<li>The version of <code>glean_parser</code> has been upgraded to 1.17.3</li>
</ul>
</li>
<li>Android:
<ul>
<li>Collections performed before initialization (preinit tasks) are now dispatched off
the main thread during initialization.</li>
<li>The baseline ping will now include <code>reason</code> codes that indicate why it was
submitted. If an unclean shutdown is detected (e.g. due to force-close), this
ping will be sent at startup with <code>reason: dirty_startup</code>.</li>
</ul>
</li>
<li>iOS:
<ul>
<li>Collections performed before initialization (preinit tasks) are now dispatched off
the main thread and not awaited during initialization.</li>
<li>Added recording of <code>glean.error.preinit_tasks_overflow</code> to report when
the preinit task queue overruns, leading to data loss. See <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1609734">bug
1609734</a></li>
</ul>
</li>
</ul>
<h1><a class="header" href="#v2410-2020-01-16" id="v2410-2020-01-16">v24.1.0 (2020-01-16)</a></h1>
<p><a href="https://github.com/mozilla/glean/compare/v24.0.0...v24.1.0">Full changelog</a></p>
<ul>
<li>General:
<ul>
<li>Stopping a non started measurement in a timing distribution will now be reported
as an <code>invalid_state</code> error.</li>
</ul>
</li>
<li>Android:
<ul>
<li>A new metric <code>glean.error.preinit_tasks_overflow</code> was added to report when
the preinit task queue overruns, leading to data loss. See <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1609482">bug
1609482</a></li>
</ul>
</li>
</ul>
<h1><a class="header" href="#v2400-2020-01-14" id="v2400-2020-01-14">v24.0.0 (2020-01-14)</a></h1>
<p><a href="https://github.com/mozilla/glean/compare/v23.0.1...v24.0.0">Full changelog</a></p>
<ul>
<li>General:
<ul>
<li><strong>Breaking Change</strong> An <code>enableUpload</code> parameter has been added to the <code>initialize()</code>
function. This removes the requirement to call <code>setUploadEnabled()</code> prior to calling
the <code>initialize()</code> function.</li>
</ul>
</li>
<li>Android:
<ul>
<li>The metrics ping scheduler will now only send metrics pings while the
application is running. The application will no longer &quot;wake up&quot; at 4am
using the Work Manager.</li>
<li>The code for migrating data from Glean SDK before version 19 was removed.</li>
<li>When using the <code>GleanTestLocalServer</code> rule in instrumented tests, pings are
immediately flushed by the <code>WorkManager</code> and will reach the test endpoint as
soon as possible.</li>
</ul>
</li>
<li>Python:
<ul>
<li>The Python bindings now support Python 3.5 - 3.7.</li>
<li>The Python bindings are now distributed as a wheel on Linux, macOS and
Windows.</li>
</ul>
</li>
</ul>
<h1><a class="header" href="#v2301-2020-01-08" id="v2301-2020-01-08">v23.0.1 (2020-01-08)</a></h1>
<p><a href="https://github.com/mozilla/glean/compare/v23.0.0...v23.0.1">Full changelog</a></p>
<ul>
<li>Android:
<ul>
<li>BUGFIX: The Glean Gradle plugin will now work if an app or library doesn't
have a metrics.yaml or pings.yaml file.</li>
</ul>
</li>
<li>iOS:
<ul>
<li>The released iOS binaries are now built with Xcode 11.3.</li>
</ul>
</li>
</ul>
<h1><a class="header" href="#v2300-2020-01-07" id="v2300-2020-01-07">v23.0.0 (2020-01-07)</a></h1>
<p><a href="https://github.com/mozilla/glean/compare/v22.1.0...v23.0.0">Full changelog</a></p>
<ul>
<li>Python bindings:
<ul>
<li>Support for events and UUID metrics was added.</li>
</ul>
</li>
<li>Android:
<ul>
<li>The Glean Gradle Plugin correctly triggers docs and API updates when registry files
change, without requiring them to be deleted.</li>
<li><code>parseISOTimeString</code> has been made 4x faster. This had an impact on Glean
migration and initialization.</li>
<li>Metrics with <code>lifetime: application</code> are now cleared when the application is started,
after startup Glean SDK pings are generated.</li>
</ul>
</li>
<li>All platforms:
<ul>
<li>The public method <code>PingType.send()</code> (in all platforms) have been deprecated
and renamed to <code>PingType.submit()</code>.</li>
<li>Rename <code>deletion_request</code> ping to <code>deletion-request</code> ping after glean_parser update</li>
</ul>
</li>
</ul>
<h1><a class="header" href="#v2210-2019-12-17" id="v2210-2019-12-17">v22.1.0 (2019-12-17)</a></h1>
<p><a href="https://github.com/mozilla/glean/compare/v22.0.0...v22.1.0">Full changelog</a></p>
<ul>
<li>Add <code>InvalidOverflow</code> error to <code>TimingDistribution</code>s (<a href="https://github.com/mozilla/glean/pull/583">#583</a>)</li>
</ul>
<h1><a class="header" href="#v2200-2019-12-05" id="v2200-2019-12-05">v22.0.0 (2019-12-05)</a></h1>
<p><a href="https://github.com/mozilla/glean/compare/v21.3.0...v22.0.0">Full changelog</a></p>
<ul>
<li>Add option to defer ping lifetime metric persistence (<a href="https://github.com/mozilla/glean/pull/530">#530</a>)</li>
<li>Add a crate for the nice control API (<a href="https://github.com/mozilla/glean/pull/542">#542</a>)</li>
<li>Pending <code>deletion_request</code> pings are resent on start (<a href="https://github.com/mozilla/glean/pull/545">#545</a>)</li>
</ul>
<h1><a class="header" href="#v2130-2019-12-03" id="v2130-2019-12-03">v21.3.0 (2019-12-03)</a></h1>
<p><a href="https://github.com/mozilla/glean/compare/v21.2.0...v21.3.0">Full changelog</a></p>
<ul>
<li>Timers are reset when disabled. That avoids recording timespans across disabled/enabled toggling (<a href="https://github.com/mozilla/glean/pull/495">#495</a>).</li>
<li>Add a new flag to pings: <code>send_if_empty</code> (<a href="https://github.com/mozilla/glean/pull/528">#528</a>)</li>
<li>Upgrade <code>glean_parser</code> to v1.12.0</li>
<li>Implement the deletion request ping in Glean (<a href="https://github.com/mozilla/glean/pull/526">#526</a>)</li>
</ul>
<h1><a class="header" href="#v2120-2019-11-21" id="v2120-2019-11-21">v21.2.0 (2019-11-21)</a></h1>
<p><a href="https://github.com/mozilla/glean/compare/v21.1.1...v21.2.0">Full changelog</a></p>
<ul>
<li>
<p>All platforms</p>
<ul>
<li>
<p>The experiments API is no longer ignored before the Glean SDK initialized. Calls are
recorded and played back once the Glean SDK is initialized.</p>
</li>
<li>
<p>String list items were being truncated to 20, rather than 50, bytes when using
<code>.set()</code> (rather than <code>.add()</code>). This has been corrected, but it may result
in changes in the sent data if using string list items longer than 20 bytes.</p>
</li>
</ul>
</li>
</ul>
<h1><a class="header" href="#v2111-2019-11-20" id="v2111-2019-11-20">v21.1.1 (2019-11-20)</a></h1>
<p><a href="https://github.com/mozilla/glean/compare/v21.1.0...v21.1.1">Full changelog</a></p>
<ul>
<li>
<p>Android:</p>
<ul>
<li>Use the <code>LifecycleEventObserver</code> interface, rather than the <code>DefaultLifecycleObserver</code>
interface, since the latter isn't compatible with old SDK targets.</li>
</ul>
</li>
</ul>
<h1><a class="header" href="#v2110-2019-11-20" id="v2110-2019-11-20">v21.1.0 (2019-11-20)</a></h1>
<p><a href="https://github.com/mozilla/glean/compare/v21.0.0...v21.1.0">Full changelog</a></p>
<ul>
<li>
<p>Android:</p>
<ul>
<li>
<p>Two new metrics were added to investigate sending of metrics and baseline pings.
See <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1597980">bug 1597980</a> for more information.</p>
</li>
<li>
<p>Glean's two lifecycle observers were refactored to avoid the use of reflection.</p>
</li>
</ul>
</li>
<li>
<p>All platforms:</p>
<ul>
<li>Timespans will now not record an error if stopping after setting upload enabled to false.</li>
</ul>
</li>
</ul>
<h1><a class="header" href="#v2100-2019-11-18" id="v2100-2019-11-18">v21.0.0 (2019-11-18)</a></h1>
<p><a href="https://github.com/mozilla/glean/compare/v20.2.0...v21.0.0">Full changelog</a></p>
<ul>
<li>
<p>Android:</p>
<ul>
<li>
<p>The <code>GleanTimerId</code> can now be accessed in Java and is no longer a <code>typealias</code>.</p>
</li>
<li>
<p>Fixed a bug where the metrics ping was getting scheduled twice on startup.</p>
</li>
</ul>
</li>
<li>
<p>All platforms</p>
<ul>
<li>Bumped <code>glean_parser</code> to version 1.11.0.</li>
</ul>
</li>
</ul>
<h1><a class="header" href="#v2020-2019-11-11" id="v2020-2019-11-11">v20.2.0 (2019-11-11)</a></h1>
<p><a href="https://github.com/mozilla/glean/compare/v20.1.0...v20.2.0">Full changelog</a></p>
<ul>
<li>In earlier 20.x.x releases, the version of glean-ffi was incorrectly built
against the wrong version of glean-core.</li>
</ul>
<h1><a class="header" href="#v2010-2019-11-11" id="v2010-2019-11-11">v20.1.0 (2019-11-11)</a></h1>
<p><a href="https://github.com/mozilla/glean/compare/v20.0.0...v20.1.0">Full changelog</a></p>
<ul>
<li>
<p>The version of Glean is included in the Glean Gradle plugin.</p>
</li>
<li>
<p>When constructing a ping, events are now sorted by their timestamp. In practice,
it rarely happens that event timestamps are unsorted to begin with, but this
guards against a potential race condition and incorrect usage of the lower-level
API.</p>
</li>
</ul>
<h1><a class="header" href="#v2000-2019-11-11" id="v2000-2019-11-11">v20.0.0 (2019-11-11)</a></h1>
<p><a href="https://github.com/mozilla/glean/compare/v19.1.0...v20.0.0">Full changelog</a></p>
<ul>
<li>
<p>Glean users should now use a Gradle plugin rather than a Gradle script. (#421)
See <a href="https://mozilla.github.io/glean/book/user/adding-glean-to-your-project.html#integrating-with-the-build-system">integrating with the build system docs</a> for more information.</p>
</li>
<li>
<p>In Kotlin, metrics that can record errors now have a new testing method,
<code>testGetNumRecordedErrors</code>. (#401)</p>
</li>
</ul>
<h1><a class="header" href="#v1910-2019-10-29" id="v1910-2019-10-29">v19.1.0 (2019-10-29)</a></h1>
<p><a href="https://github.com/mozilla/glean/compare/v19.0.0...v19.1.0">Full changelog</a></p>
<ul>
<li>Fixed a crash calling <code>start</code> on a timing distribution metric before Glean is initialized.
Timings are always measured, but only recorded when upload is enabled (<a href="https://github.com/mozilla/glean/pull/400">#400</a>)</li>
<li>BUGFIX: When the Debug Activity is used to log pings, each ping is now logged only once (<a href="https://github.com/mozilla/glean/pull/407">#407</a>)</li>
<li>New <code>invalid state</code> error, used in timespan recording (<a href="https://github.com/mozilla/glean/pull/230">#230</a>)</li>
<li>Add an Android crash instrumentation walk-through (<a href="https://github.com/mozilla/glean/pull/399">#399</a>)</li>
<li>Fix crashing bug by avoiding assert-printing in LMDB (<a href="https://github.com/mozilla/glean/pull/422">#422</a>)</li>
<li>Upgrade dependencies, including rkv (<a href="https://github.com/mozilla/glean/pull/416">#416</a>)</li>
</ul>
<h1><a class="header" href="#v1900-2019-10-22" id="v1900-2019-10-22">v19.0.0 (2019-10-22)</a></h1>
<p><a href="https://github.com/mozilla/glean/compare/v0.0.1-TESTING6...v19.0.0">Full changelog</a></p>
<p>First stable release of Glean in Rust (aka glean-core).
This is a major milestone in using a cross-platform implementation of Glean on the Android platform.</p>
<ul>
<li>Fix round-tripping of timezone offsets in dates (<a href="https://github.com/mozilla/glean/pull/392">#392</a>)</li>
<li>Handle dynamic labels in coroutine tasks (<a href="https://github.com/mozilla/glean/pull/384">#394</a>)</li>
</ul>
<h1><a class="header" href="#v001-testing6-2019-10-18" id="v001-testing6-2019-10-18">v0.0.1-TESTING6 (2019-10-18)</a></h1>
<p><a href="https://github.com/mozilla/glean/compare/v0.0.1-TESTING5...v0.0.1-TESTING6">Full changelog</a></p>
<ul>
<li>Ignore dynamically stored labels if Glean is not initialized (<a href="https://github.com/mozilla/glean/pull/374">#374</a>)</li>
<li>Make sure ProGuard doesn't remove Glean classes from the app (<a href="https://github.com/mozilla/glean/pull/380">#380</a>)</li>
<li>Keep track of pings in all modes (<a href="https://github.com/mozilla/glean/pull/378">#378</a>)</li>
<li>Add <code>jnaTest</code> dependencies to the <code>forUnitTest</code> JAR (<a href="https://github.com/mozilla/glean/pull/382">#382</a>)</li>
</ul>
<h1><a class="header" href="#v001-testing5-2019-10-10" id="v001-testing5-2019-10-10">v0.0.1-TESTING5 (2019-10-10)</a></h1>
<p><a href="https://github.com/mozilla/glean/compare/v0.0.1-TESTING4...v0.0.1-TESTING5">Full changelog</a></p>
<ul>
<li>Upgrade to NDK r20 (<a href="https://github.com/mozilla/glean/pull/365">#365</a>)</li>
</ul>
<h1><a class="header" href="#v001-testing4-2019-10-09" id="v001-testing4-2019-10-09">v0.0.1-TESTING4 (2019-10-09)</a></h1>
<p><a href="https://github.com/mozilla/glean/compare/v0.0.1-TESTING3...v0.0.1-TESTING4">Full changelog</a></p>
<ul>
<li>Take DST into account when converting a calendar into its items (<a href="https://github.com/mozilla/glean/pull/359">#359</a>)</li>
<li>Include a macOS library in the <code>forUnitTests</code> builds (<a href="https://github.com/mozilla/glean/pull/358">#358</a>)</li>
<li>Keep track of all registered pings in test mode (<a href="https://github.com/mozilla/glean/pull/363">#363</a>)</li>
</ul>
<h1><a class="header" href="#v001-testing3-2019-10-08" id="v001-testing3-2019-10-08">v0.0.1-TESTING3 (2019-10-08)</a></h1>
<p><a href="https://github.com/mozilla/glean/compare/v0.0.1-TESTING2...v0.0.1-TESTING3">Full changelog</a></p>
<ul>
<li>Allow configuration of Glean through the <code>GleanTestRule</code></li>
<li>Bump <code>glean_parser</code> version to 1.9.2</li>
</ul>
<h1><a class="header" href="#v001-testing2-2019-10-07" id="v001-testing2-2019-10-07">v0.0.1-TESTING2 (2019-10-07)</a></h1>
<p><a href="https://github.com/mozilla/glean/compare/v0.0.1-TESTING1...v0.0.1-TESTING2">Full changelog</a></p>
<ul>
<li>Include a Windows library in the <code>forUnitTests</code> builds</li>
</ul>
<h1><a class="header" href="#v001-testing1-2019-10-02" id="v001-testing1-2019-10-02">v0.0.1-TESTING1 (2019-10-02)</a></h1>
<p><a href="https://github.com/mozilla/glean/compare/95b6bcc03616c8d7c3e3e64e99ee9953aa06a474...v0.0.1-TESTING1">Full changelog</a></p>
<h3><a class="header" href="#general" id="general">General</a></h3>
<p>First testing release.</p>
<footer id="open-on-gh">Found a bug? <a href="https://github.com/mozilla/glean/edit/main/docs/appendix/changelog.md">Edit this file on GitHub.</a></footer>
                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        
                            <a rel="prev" href="../appendix/glossary.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                        

                        
                            <a rel="next" href="../appendix/twig.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                
                    <a rel="prev" href="../appendix/glossary.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                

                
                    <a rel="next" href="../appendix/twig.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
                
            </nav>

        </div>

        

        

        
        
        
        <script type="text/javascript">
            window.playpen_copyable = true;
        </script>
        

        

        
        <script src="../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../searcher.js" type="text/javascript" charset="utf-8"></script>
        

        <script src="../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        
        <script type="text/javascript" src="../tabs.js"></script>
        
        <script type="text/javascript" src="../mermaid.min.js"></script>
        
        <script type="text/javascript" src="../mermaid-init.js"></script>
        

        

    </body>
</html>
